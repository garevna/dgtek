(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["media"],{"1f99":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-container",[i("v-row",{staticClass:"mx-6"},t._l(t.articles,(function(e){return i("NewsCard",{key:e.id,attrs:{id:e.id,selected:t.selected,operation:t.operation,picture:e.logo,title:e.title},on:{"update:selected":function(e){t.selected=e},"update:operation":function(e){t.operation=e},click:function(i){return t.editArticle(e.id)}}})})),1),i("RemovePopup",{attrs:{confirm:t.confirm,visibility:t.dialog,removing:t.toRemove,details:t.details},on:{"update:confirm":function(e){t.confirm=e},"update:visibility":function(e){t.dialog=e}}}),i("v-bottom-navigation",{staticClass:"primary",attrs:{app:"",fixed:"",dark:""}},[i("v-tooltip",{attrs:{top:"",color:"info"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{text:""},on:{click:function(e){return t.createNewArticle()}}},n),[i("v-icon",[t._v(" mdi-new-box ")])],1)]}}])},[i("span",[t._v("Add new article")])])],1)],1)],1)},r=[],o=(i("a4d3"),i("4de4"),i("7db0"),i("c740"),i("4160"),i("a434"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("96cf"),i("1da1")),c=i("ade3"),a=i("2f62"),s=i("55e3"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12",md:"6",lg:"4"}},[i("v-card",{attrs:{hover:"",width:"100%"}},[i("v-img",{attrs:{src:t.logo,height:"80",contain:""}}),i("v-card-text",{staticClass:"d-inline-block text-truncate",attrs:{"max-width":"80%"}},[t._v(" "+t._s(t.title)+" ")]),i("v-card-actions",[i("v-tooltip",{attrs:{top:"",color:"info"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:t.edit}},n),[i("v-icon",{attrs:{color:"info"}},[t._v("mdi-pencil")])],1)]}}])},[i("span",[t._v("Edit article")])]),i("v-spacer"),i("v-tooltip",{attrs:{top:"",color:"warning"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.remove()}}},n),[i("v-icon",{attrs:{color:"error"}},[t._v("mdi-delete-circle")])],1)]}}])},[i("span",[t._v("Delete article")])])],1)],1)],1)},d=[],u={props:["id","selected","logo","title","operation"],methods:{edit:function(){this.$emit("update:selected",this.id),this.$emit("update:operation","edit")},remove:function(){this.$emit("update:selected",this.id),this.$emit("update:operation","remove")}}},p=u,f=i("2877"),h=i("6544"),v=i.n(h),m=i("8336"),b=i("b0af"),g=i("99d9"),w=i("62ad"),_=i("132d"),O=i("adda"),x=i("2fa4"),A=i("3a2f"),y=Object(f["a"])(p,l,d,!1,null,null,null),j=y.exports;function k(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function V(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?k(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}v()(y,{VBtn:m["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCol:w["a"],VIcon:_["a"],VImg:O["a"],VSpacer:x["a"],VTooltip:A["a"]});var E={components:{RemovePopup:s["a"],NewsCard:j},data:function(){return{selected:null,operation:null,dialog:!1,confirm:!1,bottomNav:0,articles:null}},computed:V({},Object(a["b"])("news",["logosEndpoint"]),{selectedArticle:function(){var t=this;return this.selected?this.articles.find((function(e){return e.id===t.selected})):null},selectedIndex:function(){var t=this;return this.selected?this.articles.findIndex((function(e){return e.id===t.selected})):null},toRemove:function(){return this.selectedArticle?"<h3>".concat(this.selectedArticle.title,"</h3>"):""},details:function(){return this.selectedArticle?'<img src="'.concat(this.selectedArticle.logo,'" width="200"/>'):""}}),watch:{selected:function(){"edit"===this.operation&&this.editArticle(),"remove"===this.operation&&(this.dialog=!0)},confirm:function(t){t&&(this.$store.dispatch("news/REMOVE_ARTICLE_BY_ID",this.selected),this.articles.splice(this.selectedIndex,1),this.selected=null,this.operation=null,this.dialog=!1,this.confirm=!1)},editArticle:function(){this.$router.push({name:"newsArticle",params:{article:this.selected}})}},methods:{getData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("news/GET_NEWS");case 2:i=e.sent,t.articles=i.data,console.log(t.articles);case 5:case"end":return e.stop()}}),e)})))()},createNewArticle:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("news/CREATE_NEW_ARTICLE");case 2:if(i=e.sent,i){e.next=5;break}return e.abrupt("return");case 5:t.articles=i.content.data,t.selected=i.id,t.operation="edit";case 8:case"end":return e.stop()}}),e)})))()},editArticle:function(){this.$router.push({name:"newsArticle",params:{article:this.selected}})},removeArticle:function(){this.operation=null,this.confirm=!1,this.dialog=!0}},mounted:function(){this.getData()}},C=E,R=i("b81c"),$=i("a523"),P=i("0fd9"),I=Object(f["a"])(C,n,r,!1,null,null,null);e["default"]=I.exports;v()(I,{VBottomNavigation:R["a"],VBtn:m["a"],VContainer:$["a"],VIcon:_["a"],VRow:P["a"],VTooltip:A["a"]})}}]);
//# sourceMappingURL=media.f28da99d.js.map