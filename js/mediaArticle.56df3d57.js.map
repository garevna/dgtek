{"version":3,"sources":["webpack:///./src/views/NewsEditor.vue?71e0","webpack:///./src/components/NewsBottom.vue?29c9","webpack:///src/components/NewsBottom.vue","webpack:///./src/components/NewsBottom.vue?f6ef","webpack:///./src/components/NewsBottom.vue","webpack:///src/views/NewsEditor.vue","webpack:///./src/views/NewsEditor.vue?0f0c","webpack:///./src/views/NewsEditor.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","close","article","model","value","callback","$$v","$set","expression","slot","_v","ref","date","on","$event","scopedSlots","_u","key","fn","_g","modal","$refs","dialog","save","logo","click","_e","uploadLogo","target","files","logo_user","errorPopupVisible","errorName","errorStack","staticRenderFns","$router","push","name","$emit","logoDialog","staticLogoEndpoint","logosEndpoint","logoURL","components","ImageGallery","props","data","computed","watch","val","component","VBottomNavigation","VBtn","VIcon","VRow","VTooltip","NewsBottom","ErrorPopup","id","init","published_at","saveArticle","confirmRemoving","$store","dispatch","methods","testFile","file","type","startsWith","size","limit","Boolean","logoLimit","logoFile","URL","createObjectURL","mounted","$route","params","VAvatar","VCard","VCardText","VCardTitle","VCol","VContainer","VDatePicker","VDialog","VImg","VSheet","VSpacer","VTextField"],"mappings":"qHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,kBAAkBC,YAAY,CAAC,aAAa,UAAU,CAACH,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,KAAK,EAAGR,EAAIS,OAAST,EAAIU,QAASN,EAAG,SAAS,CAACE,YAAY,UAAUE,MAAM,CAAC,YAAY,OAAO,KAAO,GAAG,KAAO,KAAK,CAACJ,EAAG,eAAe,CAACE,YAAY,WAAW,CAACF,EAAG,eAAe,CAACI,MAAM,CAAC,SAAW,GAAG,MAAQ,iBAAiBG,MAAM,CAACC,MAAOZ,EAAIU,QAAa,MAAEG,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIU,QAAS,QAASI,IAAME,WAAW,kBAAkB,CAACZ,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,SAAS,MAAQ,GAAG,MAAQ,QAAQS,KAAK,UAAU,CAACjB,EAAIkB,GAAG,iBAAiB,IAAI,GAAGd,EAAG,eAAe,CAACE,YAAY,WAAW,CAACF,EAAG,eAAe,CAACI,MAAM,CAAC,SAAW,GAAG,MAAQ,eAAeG,MAAM,CAACC,MAAOZ,EAAIU,QAAW,IAAEG,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIU,QAAS,MAAOI,IAAME,WAAW,gBAAgB,CAACZ,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,SAAS,MAAQ,GAAG,MAAQ,QAAQS,KAAK,UAAU,CAACjB,EAAIkB,GAAG,iBAAiB,IAAI,GAAGd,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACJ,EAAG,WAAW,CAACe,IAAI,SAASX,MAAM,CAAC,eAAeR,EAAIoB,KAAK,WAAa,GAAG,MAAQ,SAASC,GAAG,CAAC,qBAAqB,SAASC,GAAQtB,EAAIoB,KAAKE,GAAQ,sBAAsB,SAASA,GAAQtB,EAAIoB,KAAKE,IAASC,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASP,GACr0C,IAAIE,EAAKF,EAAIE,GACb,MAAO,CAACjB,EAAG,eAAeJ,EAAI2B,GAAG,CAACnB,MAAM,CAAC,MAAQ,eAAe,eAAe,iBAAiB,SAAW,IAAIG,MAAM,CAACC,MAAOZ,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIoB,KAAKN,GAAKE,WAAW,SAASK,QAAS,MAAK,EAAM,WAAWV,MAAM,CAACC,MAAOZ,EAAS,MAAEa,SAAS,SAAUC,GAAMd,EAAI4B,MAAMd,GAAKE,WAAW,UAAU,CAACZ,EAAG,gBAAgB,CAACI,MAAM,CAAC,WAAa,IAAIG,MAAM,CAACC,MAAOZ,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIoB,KAAKN,GAAKE,WAAW,SAAS,CAACZ,EAAG,YAAYA,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWa,GAAG,CAAC,MAAQ,SAASC,GAAQtB,EAAI4B,OAAQ,KAAS,CAAC5B,EAAIkB,GAAG,YAAYd,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAI6B,MAAMC,OAAOC,KAAK/B,EAAIoB,SAAS,CAACpB,EAAIkB,GAAG,SAAS,IAAI,IAAI,GAAGd,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,IAAI,GAAK,MAAM,CAACJ,EAAG,cAAc,CAACA,EAAG,eAAe,CAACI,MAAM,CAAC,SAAW,GAAG,MAAQ,UAAUG,MAAM,CAACC,MAAOZ,EAAIU,QAAc,OAAEG,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIU,QAAS,SAAUI,IAAME,WAAW,mBAAmB,CAACZ,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,SAAS,MAAQ,GAAG,MAAQ,QAAQS,KAAK,UAAU,CAACjB,EAAIkB,GAAG,iBAAiB,IAAI,IAAI,GAAGd,EAAG,QAAQ,CAACE,YAAY,qBAAqBE,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,IAAI,GAAK,MAAM,CAACJ,EAAG,cAAc,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,IAAM,GAAG,MAAQ,QAAQe,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASP,GAC5xC,IAAIE,EAAKF,EAAIE,GACb,MAAO,CAACjB,EAAG,QAAQJ,EAAI2B,GAAG,CAACnB,MAAM,CAAC,KAAO,IAAIa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAI6B,MAAMG,KAAKC,WAAWZ,GAAI,CAACjB,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,SAAS,CAAER,EAAIU,QAAY,KAAEN,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAMR,EAAIU,QAAQsB,KAAK,QAAU,gBAAgBhC,EAAIkC,MAAM,IAAI,OAAO,MAAK,EAAM,aAAa,CAAC9B,EAAG,OAAO,CAACJ,EAAIkB,GAAG,iCAAiC,IAAI,GAAGd,EAAG,QAAQ,CAACe,IAAI,OAAOZ,YAAY,CAAC,QAAU,QAAQC,MAAM,CAAC,KAAO,QAAQa,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOtB,EAAImC,WAAWb,EAAOc,OAAOC,MAAM,SAAS,IAAI,GAAGrC,EAAIkC,KAAK9B,EAAG,aAAa,CAACI,MAAM,CAAC,KAAOR,EAAI+B,KAAK,WAAa/B,EAAIU,QAAQsB,KAAK,UAAYhC,EAAIU,QAAQ4B,WAAWjB,GAAG,CAAC,cAAc,SAASC,GAAQtB,EAAI+B,KAAKT,GAAQ,oBAAoB,SAASA,GAAQ,OAAOtB,EAAIe,KAAKf,EAAIU,QAAS,OAAQY,IAAS,qBAAqB,SAASA,GAAQ,OAAOtB,EAAIe,KAAKf,EAAIU,QAAS,OAAQY,IAAS,mBAAmB,SAASA,GAAQ,OAAOtB,EAAIe,KAAKf,EAAIU,QAAS,YAAaY,IAAS,oBAAoB,SAASA,GAAQ,OAAOtB,EAAIe,KAAKf,EAAIU,QAAS,YAAaY,OAAYlB,EAAG,aAAa,CAACI,MAAM,CAAC,WAAaR,EAAIuC,kBAAkB,UAAYvC,EAAIwC,UAAU,QAAUxC,EAAIyC,YAAYpB,GAAG,CAAC,oBAAoB,SAASC,GAAQtB,EAAIuC,kBAAkBjB,OAAY,IAAI,IACprCoB,EAAkB,G,0ECLlB,EAAS,WAAa,IAAI1C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,sBAAsB,CAACE,YAAY,UAAUE,MAAM,CAAC,IAAM,GAAG,MAAQ,GAAG,KAAO,KAAK,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,IAAM,GAAG,MAAQ,QAAQe,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASP,GACrS,IAAIE,EAAKF,EAAIE,GACb,MAAO,CAACjB,EAAG,QAAQJ,EAAI2B,GAAG,CAACN,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAI2C,QAAQC,KAAK,CAAEC,KAAM,YAAaxB,GAAI,CAACjB,EAAG,SAAS,CAACJ,EAAIkB,GAAG,sBAAsB,SAAS,CAACd,EAAG,OAAO,CAACJ,EAAIkB,GAAG,yBAAyBd,EAAG,YAAY,CAACI,MAAM,CAAC,IAAM,GAAG,MAAQ,QAAQe,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASP,GAC1S,IAAIE,EAAKF,EAAIE,GACb,MAAO,CAACjB,EAAG,QAAQJ,EAAI2B,GAAG,CAACnB,MAAM,CAAC,KAAO,IAAIa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAI8C,MAAM,eAAe,MAASzB,GAAI,CAACjB,EAAG,SAAS,CAACJ,EAAIkB,GAAG,uBAAuB,SAAS,CAACd,EAAG,OAAO,CAACJ,EAAIkB,GAAG,yBAAyBd,EAAG,YAAY,CAACI,MAAM,CAAC,IAAM,GAAG,MAAQ,QAAQe,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASP,GACzT,IAAIE,EAAKF,EAAIE,GACb,MAAO,CAACjB,EAAG,QAAQJ,EAAI2B,GAAG,CAACN,GAAG,CAAC,MAAQ,SAASC,GAAQtB,EAAI+C,YAAW,KAAQ1B,GAAI,CAACjB,EAAG,SAAS,CAACJ,EAAIkB,GAAG,uBAAuB,SAAS,CAACd,EAAG,OAAO,CAACJ,EAAIkB,GAAG,gCAAgC,GAAGd,EAAG,eAAe,CAACI,MAAM,CAAC,WAAa,OAAO,eAAiBR,EAAIgD,mBAAmB,eAAiBhD,EAAIiD,cAAc,SAAW,MAAM,UAAY,KAAK,OAASjD,EAAI+C,WAAW,MAAQ/C,EAAIkD,SAAS7B,GAAG,CAAC,gBAAgB,SAASC,GAAQtB,EAAI+C,WAAWzB,GAAQ,eAAe,SAASA,GAAQtB,EAAIkD,QAAQ5B,OAAY,IACtf,EAAkB,G,wrBC2CtB,OACE6B,WAAY,CACVC,aAAJ,QAEEC,MAAO,CAAC,OAAQ,WAChBC,KAAM,WAAR,OACA,cACA,aAEEC,SAAU,EAAZ,GACA,uBACA,qBACA,mBAGEC,MAAO,CACLN,QADJ,SACA,GACMjD,KAAK6C,MAAM,iBAAkBW,GAC7BxD,KAAK6C,MAAM,qBAAqB,MCpEyW,I,6FCO3YY,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,EAAiB,QAShC,IAAkBA,EAAW,CAACC,oBAAA,KAAkBC,OAAA,KAAKC,QAAA,KAAMC,OAAA,KAAKC,WAAA,O,gBCmEhE,GAEEZ,WAAY,CACVa,WAAJ,EACIC,WAAJ,QAGEX,KAAM,WAAR,OACA,QACA,UACA,SACA,aACA,cACA,SACA,QACA,qBACA,sBACA,mBACA,gBACA,aACA,gBAGEE,MAAO,CACLU,GADJ,WAEMjE,KAAKkE,QAEP/C,KAJJ,SAIA,GACMnB,KAAKS,QAAQ0D,aAAeX,GAE9B1B,KAPJ,SAOA,GACW0B,IACLxD,KAAKoE,cACLpE,KAAK8B,MAAO,IAGduC,gBAbJ,SAaA,cACWb,GACLxD,KAAKsE,OAAOC,SAAS,sBAAuBvE,KAAKiE,IACvD,iBACQ,EAAR,sBACQ,EAAR,cAKEO,QAAS,CAEPC,SAFJ,SAEA,KACM,OAAKC,EAAKC,KAAKC,WAAW,SAMtBF,EAAKG,KAAOC,GACd9E,KAAKuC,UAAY,oBACjBvC,KAAKwC,WAAa,+CAA1B,+BACQxC,KAAKsC,mBAAoB,GAClB,GAEFyC,QAAQL,IAXb1E,KAAKuC,UAAY,oBACjBvC,KAAKwC,WAAa,8DAClBxC,KAAKsC,mBAAoB,GAClB,IAWXJ,WAlBJ,SAkBA,GACWlC,KAAKyE,SAASC,EAAM1E,KAAKgF,aAC9BhF,KAAKS,QAAQwE,SAAWP,EACxB1E,KAAKS,QAAQsB,KAAOmD,IAAIC,gBAAgBT,KAG1C,KAxBJ,WAwBA,wKACA,iDADA,OACA,UADA,OAEA,8BAFA,8CAKI,YA7BJ,WA6BA,wKACA,6CACA,QACA,oBAHA,OAKA,8BALA,8CAQI,cArCJ,WAqCA,wJACA,qBACA,wBAFA,+CAMEU,QAzFF,WA0FIpF,KAAKiE,GAAKjE,KAAKqF,OAAOC,OAAO7E,QAC7BT,KAAKkE,SCzLsY,I,oICO3Y,EAAY,eACd,EACApE,EACA2C,GACA,EACA,KACA,KACA,MAIa,eAAiB,QAoBhC,IAAkB,EAAW,CAAC8C,UAAA,KAAQ5B,OAAA,KAAK6B,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,aAAA,KAAWC,cAAA,KAAYC,UAAA,KAAQlC,QAAA,KAAMmC,OAAA,KAAKlC,OAAA,KAAKmC,SAAA,KAAOC,UAAA,KAAQC,aAAA,KAAWpC,WAAA","file":"js/mediaArticle.56df3d57.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{staticClass:\"overflow-y-auto\",staticStyle:{\"margin-top\":\"300px\"}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[(!_vm.close && _vm.article)?_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"1000\",\"flat\":\"\",\"tile\":\"\"}},[_c('v-card-title',{staticClass:\"mx-auto\"},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Article title\"},model:{value:(_vm.article.title),callback:function ($$v) {_vm.$set(_vm.article, \"title\", $$v)},expression:\"article.title\"}},[_c('v-icon',{attrs:{\"slot\":\"append\",\"small\":\"\",\"color\":\"info\"},slot:\"append\"},[_vm._v(\"mdi-pencil\")])],1)],1),_c('v-card-title',{staticClass:\"mx-auto\"},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Article url\"},model:{value:(_vm.article.ref),callback:function ($$v) {_vm.$set(_vm.article, \"ref\", $$v)},expression:\"article.ref\"}},[_c('v-icon',{attrs:{\"slot\":\"append\",\"small\":\"\",\"color\":\"info\"},slot:\"append\"},[_vm._v(\"mdi-pencil\")])],1)],1),_c('v-row',{staticClass:\"mx-10\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-dialog',{ref:\"dialog\",attrs:{\"return-value\":_vm.date,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.date=$event},\"update:return-value\":function($event){_vm.date=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"label\":\"Article date\",\"prepend-icon\":\"mdi-date-range\",\"readonly\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},on))]}}],null,false,805824174),model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('v-date-picker',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.modal = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.dialog.save(_vm.date)}}},[_vm._v(\"OK\")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\",\"lg\":\"4\"}},[_c('v-card-text',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Source\"},model:{value:(_vm.article.source),callback:function ($$v) {_vm.$set(_vm.article, \"source\", $$v)},expression:\"article.source\"}},[_c('v-icon',{attrs:{\"slot\":\"append\",\"small\":\"\",\"color\":\"info\"},slot:\"append\"},[_vm._v(\"mdi-pencil\")])],1)],1)],1),_c('v-col',{staticClass:\"d-flex align-start\",attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"2\",\"lg\":\"1\"}},[_c('v-card-text',[_c('v-tooltip',{attrs:{\"top\":\"\",\"color\":\"info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$refs.logo.click()}}},on),[_c('v-avatar',{attrs:{\"color\":\"#dde\"}},[(_vm.article.logo)?_c('v-img',{attrs:{\"src\":_vm.article.logo,\"onerror\":\"imageError\"}}):_vm._e()],1)],1)]}}],null,false,4110156726)},[_c('span',[_vm._v(\"Change avatar via upload\")])])],1)],1),_c('input',{ref:\"logo\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.uploadLogo($event.target.files[0])}}})],1)],1):_vm._e(),_c('NewsBottom',{attrs:{\"save\":_vm.save,\"pictureSrc\":_vm.article.logo,\"avatarSrc\":_vm.article.logo_user},on:{\"update:save\":function($event){_vm.save=$event},\"update:pictureSrc\":function($event){return _vm.$set(_vm.article, \"logo\", $event)},\"update:picture-src\":function($event){return _vm.$set(_vm.article, \"logo\", $event)},\"update:avatarSrc\":function($event){return _vm.$set(_vm.article, \"logo_user\", $event)},\"update:avatar-src\":function($event){return _vm.$set(_vm.article, \"logo_user\", $event)}}}),_c('ErrorPopup',{attrs:{\"visibility\":_vm.errorPopupVisible,\"errorName\":_vm.errorName,\"details\":_vm.errorStack},on:{\"update:visibility\":function($event){_vm.errorPopupVisible=$event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-bottom-navigation',{staticClass:\"primary\",attrs:{\"app\":\"\",\"fixed\":\"\",\"dark\":\"\"}},[_c('v-tooltip',{attrs:{\"top\":\"\",\"color\":\"info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({on:{\"click\":function($event){return _vm.$router.push({ name: 'news' })}}},on),[_c('v-icon',[_vm._v(\"mdi-file-search\")])],1)]}}])},[_c('span',[_vm._v(\"All blog articles\")])]),_c('v-tooltip',{attrs:{\"top\":\"\",\"color\":\"info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('update:save', true)}}},on),[_c('v-icon',[_vm._v(\"mdi-content-save\")])],1)]}}])},[_c('span',[_vm._v(\"Save article info\")])]),_c('v-tooltip',{attrs:{\"top\":\"\",\"color\":\"info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({on:{\"click\":function($event){_vm.logoDialog=true}}},on),[_c('v-icon',[_vm._v(\"mdi-image-search\")])],1)]}}])},[_c('span',[_vm._v(\"Select logo from server\")])])],1),_c('ImageGallery',{attrs:{\"moduleName\":\"news\",\"staticEndpoint\":_vm.staticLogoEndpoint,\"removeEndpoint\":_vm.logosEndpoint,\"maxWidth\":\"120\",\"maxHeight\":\"80\",\"dialog\":_vm.logoDialog,\"image\":_vm.logoURL},on:{\"update:dialog\":function($event){_vm.logoDialog=$event},\"update:image\":function($event){_vm.logoURL=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-row>\n  <v-bottom-navigation app fixed dark class=\"primary\">\n    <v-tooltip top color=\"info\">\n      <template v-slot:activator=\"{ on }\">\n        <v-btn @click=\"$router.push({ name: 'news' })\" v-on=\"on\">\n          <v-icon>mdi-file-search</v-icon>\n        </v-btn>\n      </template>\n      <span>All blog articles</span>\n    </v-tooltip>\n\n    <v-tooltip top color=\"info\">\n      <template v-slot:activator=\"{ on }\">\n        <v-btn text @click=\"$emit('update:save', true)\" v-on=\"on\">\n          <v-icon>mdi-content-save</v-icon>\n        </v-btn>\n      </template>\n      <span>Save article info</span>\n    </v-tooltip>\n\n    <v-tooltip top color=\"info\">\n      <template v-slot:activator=\"{ on }\">\n        <v-btn @click=\"logoDialog=true\" v-on=\"on\">\n          <v-icon>mdi-image-search</v-icon>\n        </v-btn>\n      </template>\n      <span>Select logo from server</span>\n    </v-tooltip>\n\n  </v-bottom-navigation>\n\n  <ImageGallery\n        moduleName=\"news\"\n        :staticEndpoint=\"staticLogoEndpoint\"\n        :removeEndpoint=\"logosEndpoint\"\n        maxWidth=\"120\"\n        maxHeight=\"80\"\n        :dialog.sync=\"logoDialog\"\n        :image.sync=\"logoURL\"\n  />\n</v-row>\n</template>\n\n<script>\n\nimport { mapGetters } from 'vuex'\n\nimport ImageGallery from '@/components/ImageGallery.vue'\n\nexport default {\n  components: {\n    ImageGallery,\n  },\n  props: ['save', 'logoSrc'],\n  data: () => ({\n    logoDialog: false,\n    logoURL: '',\n  }),\n  computed: {\n    ...mapGetters('news', [\n      'staticLogoEndpoint',\n      'logosEndpoint',\n    ]),\n  },\n  watch: {\n    logoURL(val) {\n      this.$emit('update:logoSrc', val)\n      this.$emit('update:logoDialog', false)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewsBottom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewsBottom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewsBottom.vue?vue&type=template&id=3b2d1e6e&\"\nimport script from \"./NewsBottom.vue?vue&type=script&lang=js&\"\nexport * from \"./NewsBottom.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomNavigation } from 'vuetify/lib/components/VBottomNavigation';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBottomNavigation,VBtn,VIcon,VRow,VTooltip})\n","<template>\n  <v-sheet class=\"overflow-y-auto\" style=\"margin-top: 300px\">\n    <v-container fluid>\n        <v-card\n          class=\"mx-auto\"\n          max-width=\"1000\"\n          flat\n          tile\n          v-if=\"!close && article\"\n        >\n          <v-card-title class=\"mx-auto\">\n            <v-text-field outlined label=\"Article title\" v-model=\"article.title\">\n              <v-icon small slot=\"append\" color=\"info\">mdi-pencil</v-icon>\n            </v-text-field>\n          </v-card-title>\n          <v-card-title class=\"mx-auto\">\n            <v-text-field outlined label=\"Article url\" v-model=\"article.ref\">\n              <v-icon small slot=\"append\" color=\"info\">mdi-pencil</v-icon>\n            </v-text-field>\n          </v-card-title>\n          <v-row class=\"mx-10\">\n            <v-col cols=\"12\" sm=\"6\" md=\"4\">\n              <v-dialog\n                ref=\"dialog\"\n                v-model=\"modal\"\n                :return-value.sync=\"date\"\n                persistent\n                width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field\n                    v-model=\"date\"\n                    label=\"Article date\"\n                    prepend-icon=\"mdi-date-range\"\n                    readonly\n                    v-on=\"on\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker v-model=\"date\" scrollable>\n                  <v-spacer></v-spacer>\n                  <v-btn text color=\"primary\" @click=\"modal = false\">Cancel</v-btn>\n                  <v-btn text color=\"primary\" @click=\"$refs.dialog.save(date)\">OK</v-btn>\n                </v-date-picker>\n              </v-dialog>\n            </v-col>\n\n            <!--  Source -->\n            <v-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"4\">\n              <v-card-text>\n                  <v-text-field outlined label=\"Source\" v-model=\"article.source\">\n                    <v-icon small slot=\"append\" color=\"info\">mdi-pencil</v-icon>\n                  </v-text-field>\n              </v-card-text>\n            </v-col>\n            <v-col cols=\"12\" sm=\"4\" md=\"2\" lg=\"1\" class=\"d-flex align-start\">\n              <v-card-text>\n              <v-tooltip top color=\"info\">\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn icon v-on=\"on\" @click=\"$refs.logo.click()\">\n                    <v-avatar color=\"#dde\">\n                      <v-img v-if=\"article.logo\" :src=\"article.logo\" onerror=\"imageError\"></v-img>\n                    </v-avatar>\n                  </v-btn>\n                  </template>\n                  <span>Change avatar via upload</span>\n              </v-tooltip>\n              </v-card-text>\n            </v-col>\n            <input\n              type=\"file\"\n              ref=\"logo\"\n              style=\"display: none\"\n              @change=\"uploadLogo($event.target.files[0])\"\n            >\n          </v-row>\n        </v-card>\n\n        <NewsBottom\n            :save.sync=\"save\"\n            :pictureSrc.sync=\"article.logo\"\n            :avatarSrc.sync=\"article.logo_user\"\n        />\n\n        <ErrorPopup :visibility.sync=\"errorPopupVisible\" :errorName=\"errorName\" :details=\"errorStack\"/>\n\n    </v-container>\n  </v-sheet>\n</template>\n\n<script>\n\nimport NewsBottom from '@/components/NewsBottom.vue'\nimport ErrorPopup from '@/components/ErrorPopup.vue'\n\nexport default {\n\n  components: {\n    NewsBottom,\n    ErrorPopup,\n  },\n\n  data: () => ({\n    id: null,\n    date: null,\n    modal: false,\n    article: null,\n    logoLimit: 70000,\n    close: false,\n    save: false,\n    errorPopupVisible: false,\n    removePopupVisible: false,\n    confirmRemoving: false,\n    uploadDailog: false,\n    errorName: '',\n    errorStack: '',\n  }),\n\n  watch: {\n    id() {\n      this.init()\n    },\n    date(val) {\n      this.article.published_at = val\n    },\n    save(val) {\n      if (!val) return\n      this.saveArticle()\n      this.save = false\n    },\n\n    confirmRemoving(val) {\n      if (!val) return\n      this.$store.dispatch('news/REMOVE_ARTICLE', this.id)\n        .then(() => {\n          this.removePopupVisible = false\n          this.close = true\n        })\n    },\n  },\n\n  methods: {\n\n    testFile(file, limit) {\n      if (!file.type.startsWith('image')) {\n        this.errorName = 'Invalid file type'\n        this.errorStack = 'File must be an image of any type such as: jpg, png, gif...'\n        this.errorPopupVisible = true\n        return false\n      }\n      if (file.size > limit) {\n        this.errorName = 'Invalid file size'\n        this.errorStack = `File is too large. Please select file up to ${Math.round(limit / 1000)}Kb`\n        this.errorPopupVisible = true\n        return false\n      }\n      return Boolean(file)\n    },\n\n    uploadLogo(file) {\n      if (!this.testFile(file, this.logoLimit)) return\n      this.article.logoFile = file\n      this.article.logo = URL.createObjectURL(file)\n    },\n\n    async init() {\n      this.article = await this.$store.dispatch('news/GET_ARTICLE_BY_ID', this.id)\n      this.date = this.article.published_at\n    },\n\n    async saveArticle() {\n      await this.$store.dispatch('news/SAVE_ARTICLE_BY_ID', {\n        id: this.id,\n        article: this.article,\n      })\n      this.$router.push({ name: 'blog' })\n    },\n\n    async removeArticle() {\n      this.confirmRemoving = false\n      this.removePopupVisible = true\n    },\n  },\n\n  mounted() {\n    this.id = this.$route.params.article\n    this.init()\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewsEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewsEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewsEditor.vue?vue&type=template&id=72a69373&\"\nimport script from \"./NewsEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./NewsEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VDatePicker,VDialog,VIcon,VImg,VRow,VSheet,VSpacer,VTextField,VTooltip})\n"],"sourceRoot":""}