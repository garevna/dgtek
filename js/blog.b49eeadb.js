(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["blog"],{"81a8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{staticClass:"mx-6"},t._l(t.articles,(function(e){return i("BlogCard",{key:e.id,attrs:{id:e.id,selected:t.selected,operation:t.operation,picture:e.logo,title:e.title},on:{"update:selected":function(e){t.selected=e},"update:operation":function(e){t.operation=e},click:function(i){return t.editArticle(e.id)}}})})),1),i("RemovePopup",{attrs:{confirm:t.confirm,visibility:t.dialog,removing:t.toRemove,details:t.details},on:{"update:confirm":function(e){t.confirm=e},"update:visibility":function(e){t.dialog=e}}}),i("v-bottom-navigation",{staticClass:"primary",attrs:{app:"",fixed:"",dark:""}},[i("v-tooltip",{attrs:{top:"",color:"info"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{text:""},on:{click:function(e){return t.createNewArticle()}}},n),[i("v-icon",[t._v(" mdi-new-box ")])],1)]}}])},[i("span",[t._v("Add new article")])])],1)],1)},o=[],r=(i("7db0"),i("c740"),i("a434"),i("96cf"),i("1da1")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12",md:"6",lg:"4"}},[i("v-card",{attrs:{hover:"",width:"100%"}},[i("v-img",{attrs:{src:t.picture,height:"200",cover:""}}),i("v-card-text",{staticClass:"d-inline-block text-truncate",attrs:{"max-width":"80%"}},[t._v(" "+t._s(t.title)+" ")]),i("v-card-actions",[i("v-tooltip",{attrs:{top:"",color:"info"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:t.edit}},n),[i("v-icon",{attrs:{color:"info"}},[t._v("mdi-pencil")])],1)]}}])},[i("span",[t._v("Edit article")])]),i("v-spacer"),i("v-tooltip",{attrs:{top:"",color:"warning"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.remove()}}},n),[i("v-icon",{attrs:{color:"error"}},[t._v("mdi-delete-circle")])],1)]}}])},[i("span",[t._v("Delete article")])])],1)],1)],1)},a=[],s={props:["id","selected","picture","title","operation"],methods:{edit:function(){this.$emit("update:selected",this.id),this.$emit("update:operation","edit")},remove:function(){this.$emit("update:selected",this.id),this.$emit("update:operation","remove")}}},l=s,d=i("2877"),u=i("6544"),p=i.n(u),f=i("8336"),v=i("b0af"),h=i("99d9"),m=i("62ad"),g=i("132d"),_=i("adda"),b=i("2fa4"),w=i("3a2f"),x=Object(d["a"])(l,c,a,!1,null,null,null),A=x.exports;p()(x,{VBtn:f["a"],VCard:v["a"],VCardActions:h["a"],VCardText:h["b"],VCol:m["a"],VIcon:g["a"],VImg:_["a"],VSpacer:b["a"],VTooltip:w["a"]});var V=i("55e3"),C={components:{BlogCard:A,RemovePopup:V["a"]},data:function(){return{selected:null,operation:null,dialog:!1,confirm:!1,bottomNav:0,articles:null}},computed:{selectedArticle:function(){var t=this;return this.selected?this.articles.find((function(e){return e.id===t.selected})):null},selectedIndex:function(){var t=this;return this.selected?this.articles.findIndex((function(e){return e.id===t.selected})):null},toRemove:function(){return this.selectedArticle?"<h3>".concat(this.selectedArticle.title,"</h3>"):""},details:function(){return this.selectedArticle?'<img src="'.concat(this.selectedArticle.logo,'" width="200"/>'):""}},watch:{selected:function(){"edit"===this.operation&&this.editArticle(),"remove"===this.operation&&(this.dialog=!0)},confirm:function(t){t&&(this.$store.dispatch("blog/REMOVE_ARTICLE_BY_ID",this.selected),this.articles.splice(this.selectedIndex,1),this.selected=null,this.operation=null,this.dialog=!1,this.confirm=!1)}},methods:{createNewArticle:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("blog/CREATE_NEW_ARTICLE");case 2:if(i=e.sent,i){e.next=5;break}return e.abrupt("return");case 5:t.articles=i.content.data,t.selected=i.id,t.operation="edit";case 8:case"end":return e.stop()}}),e)})))()},editArticle:function(){this.$router.push({name:"article",params:{article:this.selected}})},removeArticle:function(){this.operation=null,this.confirm=!1,this.dialog=!0}},mounted:function(){var t=this;this.$store.dispatch("blog/GET_BLOG_CONTENT").then((function(e){t.articles=e}))}},k=C,E=i("b81c"),R=i("a523"),$=i("0fd9"),I=Object(d["a"])(k,n,o,!1,null,null,null);e["default"]=I.exports;p()(I,{VBottomNavigation:E["a"],VBtn:f["a"],VContainer:R["a"],VIcon:g["a"],VRow:$["a"],VTooltip:w["a"]})}}]);
//# sourceMappingURL=blog.b49eeadb.js.map